function u(e){const{effect:s,swiper:t,on:l,setTranslate:d,setTransition:o,overwriteParams:r,perspective:i,recreateShadows:n,getEffectParams:c}=e;l("beforeInit",()=>{if(t.params.effect!==s)return;t.classNames.push(`${t.params.containerModifierClass}${s}`),i&&i()&&t.classNames.push(`${t.params.containerModifierClass}3d`);const f=r?r():{};Object.assign(t.params,f),Object.assign(t.originalParams,f)}),l("setTranslate",()=>{t.params.effect===s&&d()}),l("setTransition",(f,m)=>{t.params.effect===s&&o(m)}),l("transitionEnd",()=>{if(t.params.effect===s&&n){if(!c||!c().slideShadows)return;t.slides.each(f=>{t.$(f).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").remove()}),n()}});let a;l("virtualUpdate",()=>{t.params.effect===s&&(t.slides.length||(a=!0),requestAnimationFrame(()=>{a&&t.slides&&t.slides.length&&(d(),a=!1)}))})}function p(e,s){return e.transformEl?s.find(e.transformEl).css({"backface-visibility":"hidden","-webkit-backface-visibility":"hidden"}):s}function g({swiper:e,duration:s,transformEl:t,allSlides:l}){const{slides:d,activeIndex:o,$wrapperEl:r}=e;if(e.params.virtualTranslate&&s!==0){let i=!1,n;n=t?d.find(t):d,n.transitionEnd(()=>{if(i||!e||e.destroyed)return;i=!0,e.animating=!1;const c=["webkitTransitionEnd","transitionend"];for(let a=0;a<c.length;a+=1)r.trigger(c[a])})}}function h({swiper:e,extendParams:s,on:t}){s({fadeEffect:{crossFade:!1,transformEl:null}}),u({effect:"fade",swiper:e,on:t,setTranslate:()=>{const{slides:o}=e,r=e.params.fadeEffect;for(let i=0;i<o.length;i+=1){const n=e.slides.eq(i);let a=-n[0].swiperSlideOffset;e.params.virtualTranslate||(a-=e.translate);let f=0;e.isHorizontal()||(f=a,a=0);const m=e.params.fadeEffect.crossFade?Math.max(1-Math.abs(n[0].progress),0):1+Math.min(Math.max(n[0].progress,-1),0);p(r,n).css({opacity:m}).transform(`translate3d(${a}px, ${f}px, 0px)`)}},setTransition:o=>{const{transformEl:r}=e.params.fadeEffect;(r?e.slides.find(r):e.slides).transition(o),g({swiper:e,duration:o,transformEl:r,allSlides:!0})},overwriteParams:()=>({slidesPerView:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!e.params.cssMode})})}export{h as E};
